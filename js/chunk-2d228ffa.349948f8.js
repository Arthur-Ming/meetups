(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d228ffa"],{dc27:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form-layout",{attrs:{title:e.title}},[e.meetup?r("meetup-form",{attrs:{meetup:e.meetup,"submit-text":"Сохранить"},on:{submit:e.handleSubmit,cancel:e.handleCancel}}):e._e()],1)},a=[],u=r("1da1"),s=(r("96cf"),r("fc69")),c=r("5069"),o=r("73cb"),p=r("096c"),i={name:"FormEditPage",components:{FormLayout:s["a"],MeetupForm:c["a"]},props:{meetupId:{required:!0}},beforeRouteEnter:function(e,t,r){return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p["a"].fetchMeetup(e.params.meetupId);case 2:n=t.sent,r((function(e){e.setMeetup(n)}));case 4:case"end":return t.stop()}}),t)})))()},beforeRouteUpdate:function(e,t,r){var n=this;return Object(u["a"])(regeneratorRuntime.mark((function a(){var u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.params.meetupId!==t.params.meetupId){a.next=4;break}r(),a.next=9;break;case 4:return a.next=6,p["a"].fetchMeetup(e.params.meetupId);case 6:u=a.sent,n.setMeetup(u),r();case 9:case"end":return a.stop()}}),a)})))()},data:function(){return{title:"Редактирование митапа",meetup:null}},metaInfo:function(){return{title:this.title}},methods:{handleSubmit:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(o["a"])(p["a"].updateMeetup(e));case 3:n=r.sent,a=n.id,t.$router.push({name:"meetup",params:{meetupId:a}}),t.$toaster.success("Митап изменён!"),r.next=13;break;case 9:throw r.prev=9,r.t0=r["catch"](0),t.$toaster.error(r.t0.body.message),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},handleCancel:function(){this.$router.push({name:"meetup",params:{meetupId:this.meetupId}})},setMeetup:function(e){this.meetup=e}}},m=i,f=r("2877"),d=Object(f["a"])(m,n,a,!1,null,"1496bb7a",null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d228ffa.349948f8.js.map